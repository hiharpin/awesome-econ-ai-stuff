<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index | Awesome Econ AI Stuff</title>
    <meta name="description" content="Run IV, DiD, and RDD analyses in R with proper diagnostics">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/awesome-econ-ai-stuff/assets/css/style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Index | Awesome Econ AI Stuff</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Index" />
<meta name="author" content="Awesome Econ AI Community" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Run IV, DiD, and RDD analyses in R with proper diagnostics" />
<meta property="og:description" content="Run IV, DiD, and RDD analyses in R with proper diagnostics" />
<link rel="canonical" href="http://localhost:4000/awesome-econ-ai-stuff/skills/analysis/r-econometrics/index/" />
<meta property="og:url" content="http://localhost:4000/awesome-econ-ai-stuff/skills/analysis/r-econometrics/index/" />
<meta property="og:site_name" content="Awesome Econ AI Stuff" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2026-01-31T12:21:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Index" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@Awesome Econ AI Community" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Awesome Econ AI Community"},"dateModified":"2026-01-31T12:21:00+00:00","datePublished":"2026-01-31T12:21:00+00:00","description":"Run IV, DiD, and RDD analyses in R with proper diagnostics","headline":"Index","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/awesome-econ-ai-stuff/skills/analysis/r-econometrics/index/"},"url":"http://localhost:4000/awesome-econ-ai-stuff/skills/analysis/r-econometrics/index/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="/awesome-econ-ai-stuff/" class="nav-logo">
                <span class="logo-icon">üìä</span>
                <span class="logo-text">Awesome Econ AI</span>
            </a>
            <div class="nav-links">
                <a href="/awesome-econ-ai-stuff/#skills">Skills</a>
                <a href="/awesome-econ-ai-stuff/#workflow">Workflow</a>
                <a href="/awesome-econ-ai-stuff/pages/submit.html" class="nav-cta">Submit Skill</a>
                <a href="https://github.com/meleantonio/awesome-econ-ai-stuff" class="nav-github" aria-label="GitHub">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
                </a>
            </div>
        </div>
    </nav>

    <main class="page-content">
        <section>
            <div class="container">
                <div class="skill-content">
                    <div style="margin-bottom: 2rem; display: flex; justify-content: flex-end;">
                        <button id="download-skill-btn" class="btn btn-secondary">üì• Download SKILL.md</button>
                    </div>
                    <h1 id="r-econometrics">R Econometrics</h1>

<h2 id="purpose">Purpose</h2>

<p>This skill helps economists run rigorous econometric analyses in R, including Instrumental Variables (IV), Difference-in-Differences (DiD), and Regression Discontinuity Design (RDD). It generates publication-ready code with proper diagnostics and robust standard errors.</p>

<h2 id="when-to-use">When to Use</h2>

<ul>
  <li>Running causal inference analyses</li>
  <li>Estimating treatment effects with panel data</li>
  <li>Creating publication-ready regression tables</li>
  <li>Implementing modern econometric methods (two-way fixed effects, event studies)</li>
</ul>

<h2 id="instructions">Instructions</h2>

<h3 id="step-1-understand-the-research-design">Step 1: Understand the Research Design</h3>

<p>Before generating code, ask the user:</p>
<ol>
  <li>What is your identification strategy? (IV, DiD, RDD, or simple regression)</li>
  <li>What is the unit of observation? (individual, firm, country-year, etc.)</li>
  <li>What fixed effects do you need? (entity, time, two-way)</li>
  <li>How should standard errors be clustered?</li>
</ol>

<h3 id="step-2-generate-analysis-code">Step 2: Generate Analysis Code</h3>

<p>Based on the research design, generate R code that:</p>

<ol>
  <li><strong>Uses the <code class="language-plaintext highlighter-rouge">fixest</code> package</strong> - Modern, fast, and feature-rich for panel data</li>
  <li><strong>Includes proper diagnostics:</strong>
    <ul>
      <li>For IV: First-stage F-statistics, weak instrument tests</li>
      <li>For DiD: Parallel trends visualization, event study plots</li>
      <li>For RDD: Bandwidth selection, density tests</li>
    </ul>
  </li>
  <li><strong>Uses robust/clustered standard errors</strong> appropriate for the data structure</li>
  <li><strong>Creates publication-ready output</strong> using <code class="language-plaintext highlighter-rouge">modelsummary</code> or <code class="language-plaintext highlighter-rouge">etable</code></li>
</ol>

<h3 id="step-3-structure-the-output">Step 3: Structure the Output</h3>

<p>Always include:</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1. Setup and packages</span><span class="w">
</span><span class="c1"># 2. Data loading and preparation</span><span class="w">
</span><span class="c1"># 3. Descriptive statistics</span><span class="w">
</span><span class="c1"># 4. Main specification</span><span class="w">
</span><span class="c1"># 5. Robustness checks</span><span class="w">
</span><span class="c1"># 6. Visualization</span><span class="w">
</span><span class="c1"># 7. Export results</span><span class="w">
</span></code></pre></div></div>

<h3 id="step-4-add-documentation">Step 4: Add Documentation</h3>

<p>Include comments explaining:</p>
<ul>
  <li>Why each specification choice was made</li>
  <li>Interpretation of key coefficients</li>
  <li>Limitations and assumptions</li>
</ul>

<h2 id="example-prompts">Example Prompts</h2>

<ul>
  <li>‚ÄúRun a DiD analysis with state and year fixed effects, clustering at the state level‚Äù</li>
  <li>‚ÄúEstimate the effect of X on Y using Z as an instrument‚Äù</li>
  <li>‚ÄúCreate an event study plot showing treatment effects by year‚Äù</li>
  <li>‚ÄúRun a sharp RDD with optimal bandwidth selection‚Äù</li>
</ul>

<h2 id="example-output">Example Output</h2>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ============================================</span><span class="w">
</span><span class="c1"># Difference-in-Differences Analysis</span><span class="w">
</span><span class="c1"># ============================================</span><span class="w">

</span><span class="c1"># Setup</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">fixest</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">modelsummary</span><span class="p">)</span><span class="w">

</span><span class="c1"># Load data</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"data.csv"</span><span class="p">)</span><span class="w">

</span><span class="c1"># Prepare treatment variable</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="w">
    </span><span class="n">post</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">treatment_year</span><span class="p">,</span><span class="w">
    </span><span class="n">treated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">treatment_states</span><span class="p">,</span><span class="w">
    </span><span class="n">treat_post</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">treated</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">post</span><span class="w">
  </span><span class="p">)</span><span class="w">

</span><span class="c1"># ----------------------------------------</span><span class="w">
</span><span class="c1"># Main DiD Specification</span><span class="w">
</span><span class="c1"># ----------------------------------------</span><span class="w">

</span><span class="c1"># Two-way fixed effects</span><span class="w">
</span><span class="n">did_model</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">feols</span><span class="p">(</span><span class="w">
  </span><span class="n">outcome</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">treat_post</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">,</span><span class="w">
  </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">state</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1"># View results</span><span class="w">
</span><span class="n">summary</span><span class="p">(</span><span class="n">did_model</span><span class="p">)</span><span class="w">

</span><span class="c1"># ----------------------------------------</span><span class="w">
</span><span class="c1"># Event Study</span><span class="w">
</span><span class="c1"># ----------------------------------------</span><span class="w">

</span><span class="c1"># Create relative time variable</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">rel_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">treatment_year</span><span class="p">)</span><span class="w">

</span><span class="c1"># Event study regression</span><span class="w">
</span><span class="n">event_study</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">feols</span><span class="p">(</span><span class="w">
  </span><span class="n">outcome</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">i</span><span class="p">(</span><span class="n">rel_time</span><span class="p">,</span><span class="w"> </span><span class="n">treated</span><span class="p">,</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-1</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">,</span><span class="w">
  </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">state</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1"># Plot coefficients</span><span class="w">
</span><span class="n">iplot</span><span class="p">(</span><span class="n">event_study</span><span class="p">,</span><span class="w"> 
      </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Event Study: Effect on Outcome"</span><span class="p">,</span><span class="w">
      </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Years Relative to Treatment"</span><span class="p">)</span><span class="w">

</span><span class="c1"># ----------------------------------------</span><span class="w">
</span><span class="c1"># Robustness: Alternative Specifications</span><span class="w">
</span><span class="c1"># ----------------------------------------</span><span class="w">

</span><span class="c1"># Different clustering</span><span class="w">
</span><span class="n">did_robust</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">feols</span><span class="p">(</span><span class="w">
  </span><span class="n">outcome</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">treat_post</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">,</span><span class="w">
  </span><span class="n">cluster</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">state</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">year</span><span class="w">  </span><span class="c1"># Two-way clustering</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="c1"># ----------------------------------------</span><span class="w">
</span><span class="c1"># Export Results</span><span class="w">
</span><span class="c1"># ----------------------------------------</span><span class="w">

</span><span class="n">modelsummary</span><span class="p">(</span><span class="w">
  </span><span class="nf">list</span><span class="p">(</span><span class="s2">"Main"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">did_model</span><span class="p">,</span><span class="w"> </span><span class="s2">"Two-way Cluster"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">did_robust</span><span class="p">),</span><span class="w">
  </span><span class="n">stars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'*'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="s1">'**'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.05</span><span class="p">,</span><span class="w"> </span><span class="s1">'***'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.01</span><span class="p">),</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"results/did_table.tex"</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h2 id="requirements">Requirements</h2>

<h3 id="software">Software</h3>
<ul>
  <li>R 4.0+</li>
</ul>

<h3 id="packages">Packages</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">fixest</code> - Fast fixed effects estimation</li>
  <li><code class="language-plaintext highlighter-rouge">modelsummary</code> - Publication-ready tables</li>
  <li><code class="language-plaintext highlighter-rouge">tidyverse</code> - Data manipulation</li>
  <li><code class="language-plaintext highlighter-rouge">ggplot2</code> - Visualization</li>
</ul>

<p>Install with:</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">install.packages</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"fixest"</span><span class="p">,</span><span class="w"> </span><span class="s2">"modelsummary"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tidyverse"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<h2 id="best-practices">Best Practices</h2>

<ol>
  <li><strong>Always cluster standard errors</strong> at the level of treatment assignment</li>
  <li><strong>Run pre-trend tests</strong> for DiD designs</li>
  <li><strong>Report first-stage F-statistics</strong> for IV (should be &gt; 10)</li>
  <li><strong>Use <code class="language-plaintext highlighter-rouge">feols</code> over <code class="language-plaintext highlighter-rouge">lm</code></strong> for panel data (faster and more features)</li>
  <li><strong>Document all specification choices</strong> in your code comments</li>
</ol>

<h2 id="common-pitfalls">Common Pitfalls</h2>

<ul>
  <li>‚ùå Not clustering standard errors at the right level</li>
  <li>‚ùå Ignoring weak instruments in IV estimation</li>
  <li>‚ùå Using TWFE with staggered treatment timing (use <code class="language-plaintext highlighter-rouge">did</code> or <code class="language-plaintext highlighter-rouge">sunab()</code> instead)</li>
  <li>‚ùå Not reporting robustness checks</li>
</ul>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://lrberge.github.io/fixest/">fixest documentation</a></li>
  <li><a href="https://mixtape.scunning.com/">Cunningham (2021) Causal Inference: The Mixtape</a></li>
  <li><a href="https://www.mostlyharmlesseconometrics.com/">Angrist &amp; Pischke (2009) Mostly Harmless Econometrics</a></li>
</ul>

<h2 id="changelog">Changelog</h2>

<h3 id="v100">v1.0.0</h3>
<ul>
  <li>Initial release with IV, DiD, RDD support</li>
</ul>

                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">üìä</span>
                    <span>Awesome Econ AI Stuff</span>
                </div>
                <div class="footer-links">
                    <a href="https://github.com/meleantonio/awesome-econ-ai-stuff">GitHub</a>
                    <a href="/awesome-econ-ai-stuff/CONTRIBUTING.md">Contribute</a>
                    <a href="/awesome-econ-ai-stuff/LICENSE">License (CC0)</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Made with ‚ù§Ô∏è for the economics research community</p>
            </div>
        </div>
    </footer>

    <!-- JSZip library for zip file creation (needed for download functionality) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
        // Make baseurl available to JavaScript
        window.siteBaseurl = '/awesome-econ-ai-stuff';
    </script>
    <script src="/awesome-econ-ai-stuff/assets/js/main.js"></script>
    <script src="/awesome-econ-ai-stuff/assets/js/download.js"></script>
    <script>
        // #region agent log
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:96',message:'skill_layout_rendered',data:{pageTitle:'Index',pageUrl:'/skills/analysis/r-econometrics/index/',baseUrl:'/awesome-econ-ai-stuff',href:window.location.href},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'A'})}).catch(()=>{});
        // #endregion agent log
        // #region agent log
        const skillCssLink = document.querySelector('link[rel="stylesheet"]');
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:99',message:'skill_stylesheet_link',data:{cssHref:skillCssLink ? skillCssLink.href : null,baseUrl:'/awesome-econ-ai-stuff'},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'C'})}).catch(()=>{});
        // #endregion agent log
        // #region agent log
        const skillContent = document.querySelector('.skill-content');
        const computedBg = window.getComputedStyle(document.body).backgroundColor;
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:103',message:'skill_dom_and_style',data:{hasSkillContent:!!skillContent,bodyBg:computedBg},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'B'})}).catch(()=>{});
        // #endregion agent log
    </script>
</body>
</html>
