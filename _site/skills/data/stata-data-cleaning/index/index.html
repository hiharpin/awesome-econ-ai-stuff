<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index | Awesome Econ AI Stuff</title>
    <meta name="description" content="Clean and transform messy data in Stata with reproducible workflows">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/awesome-econ-ai-stuff/assets/css/style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Index | Awesome Econ AI Stuff</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Index" />
<meta name="author" content="Awesome Econ AI Community" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Clean and transform messy data in Stata with reproducible workflows" />
<meta property="og:description" content="Clean and transform messy data in Stata with reproducible workflows" />
<link rel="canonical" href="http://localhost:4000/awesome-econ-ai-stuff/skills/data/stata-data-cleaning/index/" />
<meta property="og:url" content="http://localhost:4000/awesome-econ-ai-stuff/skills/data/stata-data-cleaning/index/" />
<meta property="og:site_name" content="Awesome Econ AI Stuff" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2026-01-31T12:21:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Index" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@Awesome Econ AI Community" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Awesome Econ AI Community"},"dateModified":"2026-01-31T12:21:00+00:00","datePublished":"2026-01-31T12:21:00+00:00","description":"Clean and transform messy data in Stata with reproducible workflows","headline":"Index","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/awesome-econ-ai-stuff/skills/data/stata-data-cleaning/index/"},"url":"http://localhost:4000/awesome-econ-ai-stuff/skills/data/stata-data-cleaning/index/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="/awesome-econ-ai-stuff/" class="nav-logo">
                <span class="logo-icon">üìä</span>
                <span class="logo-text">Awesome Econ AI</span>
            </a>
            <div class="nav-links">
                <a href="/awesome-econ-ai-stuff/#skills">Skills</a>
                <a href="/awesome-econ-ai-stuff/#workflow">Workflow</a>
                <a href="/awesome-econ-ai-stuff/pages/submit.html" class="nav-cta">Submit Skill</a>
                <a href="https://github.com/meleantonio/awesome-econ-ai-stuff" class="nav-github" aria-label="GitHub">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
                </a>
            </div>
        </div>
    </nav>

    <main class="page-content">
        <section>
            <div class="container">
                <div class="skill-content">
                    <div style="margin-bottom: 2rem; display: flex; justify-content: flex-end;">
                        <button id="download-skill-btn" class="btn btn-secondary">üì• Download SKILL.md</button>
                    </div>
                    <h1 id="stata-data-cleaning">Stata Data Cleaning</h1>

<h2 id="purpose">Purpose</h2>

<p>This skill helps economists clean, transform, and prepare datasets for analysis in Stata. It emphasizes reproducibility, proper documentation, and handling common data quality issues found in economic research.</p>

<h2 id="when-to-use">When to Use</h2>

<ul>
  <li>Cleaning raw survey or administrative data</li>
  <li>Merging multiple data sources</li>
  <li>Handling missing values, duplicates, and outliers</li>
  <li>Creating analysis-ready panel datasets</li>
  <li>Documenting data transformations for replication</li>
</ul>

<h2 id="instructions">Instructions</h2>

<h3 id="step-1-understand-the-data">Step 1: Understand the Data</h3>

<p>Before generating code, ask the user:</p>
<ol>
  <li>What is the data source? (survey, administrative, API, etc.)</li>
  <li>What is the unit of observation?</li>
  <li>What are the key variables needed for analysis?</li>
  <li>Are there known data quality issues to address?</li>
</ol>

<h3 id="step-2-generate-cleaning-pipeline">Step 2: Generate Cleaning Pipeline</h3>

<p>Create a Stata do-file that:</p>

<ol>
  <li><strong>Has a clear header</strong> with project info and date</li>
  <li><strong>Sets up the environment</strong> (clear all, set memory, log)</li>
  <li><strong>Loads and inspects raw data</strong></li>
  <li><strong>Documents each transformation</strong> with comments</li>
  <li><strong>Creates a codebook</strong> for the final dataset</li>
</ol>

<h3 id="step-3-follow-best-practices">Step 3: Follow Best Practices</h3>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">assert</code> statements to verify data integrity</li>
  <li>Create labeled variables with <code class="language-plaintext highlighter-rouge">label variable</code></li>
  <li>Use value labels for categorical variables</li>
  <li>Generate a log file for reproducibility</li>
  <li>Save intermediate files when appropriate</li>
</ul>

<h2 id="example-output">Example Output</h2>

<div class="language-stata highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*==============================================================================
    Project:    Economic Analysis Data Cleaning
    Author:     [Your Name]
    Date:       [Date]
    Purpose:    Clean raw survey data for regression analysis
    Input:      raw_survey_data.dta
    Output:     cleaned_analysis_data.dta
==============================================================================*/</span>

<span class="c1">* ============================================</span>
<span class="c1">* 1. SETUP</span>
<span class="c1">* ============================================</span>

<span class="k">clear</span><span class="w"> </span><span class="n">all</span>
<span class="k">set</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">off</span>
<span class="k">cap</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">close</span>
<span class="k">log</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="s2">"logs/data_cleaning_`c(current_date)'.log"</span><span class="p">,</span><span class="w"> </span><span class="n">replace</span>

<span class="c1">* Set working directory</span>
<span class="k">cd</span><span class="w"> </span><span class="s2">"/path/to/project"</span>

<span class="c1">* Define globals for paths</span>
<span class="kt">global</span><span class="w"> </span><span class="n">raw_data</span><span class="w"> </span><span class="s2">"data/raw"</span>
<span class="kt">global</span><span class="w"> </span><span class="n">clean_data</span><span class="w"> </span><span class="s2">"data/clean"</span>
<span class="kt">global</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="s2">"output"</span>

<span class="c1">* ============================================</span>
<span class="c1">* 2. LOAD AND INSPECT RAW DATA</span>
<span class="c1">* ============================================</span>

<span class="k">use</span><span class="w"> </span><span class="s2">"${raw_data}/raw_survey_data.dta"</span><span class="p">,</span><span class="w"> </span><span class="n">clear</span>

<span class="c1">* Basic inspection</span>
<span class="k">describe</span>
<span class="k">summarize</span>
<span class="k">codebook</span><span class="p">,</span><span class="w"> </span><span class="n">compact</span>

<span class="c1">* Check for duplicates</span>
<span class="k">duplicates</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">id_var</span>
<span class="k">duplicates</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">id_var</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">_dup</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span>

<span class="c1">* ============================================</span>
<span class="c1">* 3. VARIABLE CLEANING</span>
<span class="c1">* ============================================</span>

<span class="c1">* --- Rename variables for clarity ---</span>
<span class="k">rename</span><span class="w"> </span><span class="n">q1</span><span class="w"> </span><span class="n">age</span>
<span class="k">rename</span><span class="w"> </span><span class="n">q2</span><span class="w"> </span><span class="n">income_reported</span>
<span class="k">rename</span><span class="w"> </span><span class="n">q3</span><span class="w"> </span><span class="n">education_level</span>

<span class="c1">* --- Clean numeric variables ---</span>
<span class="c1">* Replace missing value codes with .</span>
<span class="n">mvdecode</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="n">income_reported</span><span class="p">,</span><span class="w"> </span><span class="n">mv</span><span class="p">(</span><span class="m">-99</span><span class="w"> </span><span class="m">-88</span><span class="w"> </span><span class="m">-77</span><span class="p">)</span>

<span class="c1">* Cap outliers at 99th percentile</span>
<span class="k">qui</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">income_reported</span><span class="p">,</span><span class="w"> </span><span class="n">detail</span>
<span class="k">replace</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">r</span><span class="p">(</span><span class="n">p99</span><span class="p">)</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nf">r</span><span class="p">(</span><span class="n">p99</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">income_reported</span><span class="p">)</span>

<span class="c1">* --- Clean string variables ---</span>
<span class="c1">* Standardize state names</span>
<span class="k">replace</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span><span class="p">(</span><span class="n">trim</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>
<span class="k">replace</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"NEW YORK"</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nf">inlist</span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w"> </span><span class="s2">"N.Y."</span><span class="p">,</span><span class="w"> </span><span class="s2">"N Y"</span><span class="p">)</span>

<span class="c1">* --- Create categorical variables ---</span>
<span class="k">gen</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span>
<span class="k">replace</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">education_level</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">12</span>
<span class="k">replace</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">education_level</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">12</span>
<span class="k">replace</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">education_level</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">education_level</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">16</span>
<span class="k">replace</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">education_level</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">education_level</span><span class="p">)</span>

<span class="k">label</span><span class="w"> </span><span class="n">define</span><span class="w"> </span><span class="n">edu_lbl</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">"Less than HS"</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="s2">"High School"</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="s2">"College"</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="s2">"Graduate"</span>
<span class="k">label</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="n">edu_lbl</span>

<span class="c1">* ============================================</span>
<span class="c1">* 4. HANDLE MISSING DATA</span>
<span class="c1">* ============================================</span>

<span class="c1">* Create missing indicator variables</span>
<span class="k">gen</span><span class="w"> </span><span class="n">mi_income</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">mi</span><span class="p">(</span><span class="n">income_reported</span><span class="p">)</span>

<span class="c1">* Document missingness</span>
<span class="k">tab</span><span class="w"> </span><span class="n">mi_income</span>

<span class="c1">* Count complete cases</span>
<span class="k">egen</span><span class="w"> </span><span class="n">complete_case</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rownonmiss</span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="n">education_cat</span><span class="p">)</span>
<span class="k">tab</span><span class="w"> </span><span class="n">complete_case</span>

<span class="c1">* ============================================</span>
<span class="c1">* 5. CREATE DERIVED VARIABLES</span>
<span class="c1">* ============================================</span>

<span class="c1">* Age groups</span>
<span class="k">gen</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span>
<span class="k">replace</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">30</span>
<span class="k">replace</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">50</span>
<span class="k">replace</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">50</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">65</span>
<span class="k">replace</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">65</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>

<span class="k">label</span><span class="w"> </span><span class="n">define</span><span class="w"> </span><span class="n">age_lbl</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">"18-29"</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="s2">"30-49"</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="s2">"50-64"</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="s2">"65+"</span>
<span class="k">label</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="n">age_lbl</span>

<span class="c1">* Log income</span>
<span class="k">gen</span><span class="w"> </span><span class="n">log_income</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ln</span><span class="p">(</span><span class="n">income_reported</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>

<span class="c1">* ============================================</span>
<span class="c1">* 6. DATA VALIDATION</span>
<span class="c1">* ============================================</span>

<span class="c1">* Assert expected ranges</span>
<span class="k">assert</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">120</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="k">assert</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">income_reported</span><span class="p">)</span>

<span class="c1">* Check variable types</span>
<span class="k">assert</span><span class="w"> </span><span class="o">!</span><span class="nf">mi</span><span class="p">(</span><span class="n">id_var</span><span class="p">)</span>
<span class="k">isid</span><span class="w"> </span><span class="n">id_var</span><span class="w">  </span><span class="c1">// Verify unique identifier</span>

<span class="c1">* ============================================</span>
<span class="c1">* 7. LABEL VARIABLES</span>
<span class="c1">* ============================================</span>

<span class="k">label</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="s2">"Age in years"</span>
<span class="k">label</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="s2">"Annual income (USD)"</span>
<span class="k">label</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="s2">"Education category"</span>
<span class="k">label</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">log_income</span><span class="w"> </span><span class="s2">"Log of annual income"</span>
<span class="k">label</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">mi_income</span><span class="w"> </span><span class="s2">"Missing income indicator"</span>

<span class="c1">* ============================================</span>
<span class="c1">* 8. FINAL CHECKS AND SAVE</span>
<span class="c1">* ============================================</span>

<span class="c1">* Keep relevant variables</span>
<span class="k">keep</span><span class="w"> </span><span class="n">id_var</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="n">log_income</span><span class="w"> </span><span class="c1">///</span>
<span class="w">     </span><span class="n">education_cat</span><span class="w"> </span><span class="n">mi_income</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">year</span>

<span class="c1">* Order variables logically</span>
<span class="k">order</span><span class="w"> </span><span class="n">id_var</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="n">age_group</span><span class="w"> </span><span class="n">income_reported</span><span class="w"> </span><span class="c1">///</span>
<span class="w">      </span><span class="n">log_income</span><span class="w"> </span><span class="n">education_cat</span><span class="w"> </span><span class="n">mi_income</span>

<span class="c1">* Compress to minimize file size</span>
<span class="k">compress</span>

<span class="c1">* Save cleaned data</span>
<span class="k">save</span><span class="w"> </span><span class="s2">"${clean_data}/cleaned_analysis_data.dta"</span><span class="p">,</span><span class="w"> </span><span class="n">replace</span>

<span class="c1">* Create codebook</span>
<span class="k">codebook</span><span class="p">,</span><span class="w"> </span><span class="n">compact</span>

<span class="c1">* Close log</span>
<span class="k">log</span><span class="w"> </span><span class="n">close</span>

<span class="c1">* ============================================</span>
<span class="c1">* END OF FILE</span>
<span class="c1">* ============================================</span>
</code></pre></div></div>

<h2 id="requirements">Requirements</h2>

<h3 id="software">Software</h3>
<ul>
  <li>Stata 15+ (some commands require newer versions)</li>
</ul>

<h3 id="recommended-user-written-commands">Recommended User-Written Commands</h3>
<div class="language-stata highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ssc</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">unique</span><span class="w">     </span><span class="c1">// For unique value checking</span>
<span class="k">ssc</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">mdesc</span><span class="w">      </span><span class="c1">// For missing data patterns</span>
<span class="k">ssc</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">labutil</span><span class="w">    </span><span class="c1">// For label manipulation</span>
</code></pre></div></div>

<h2 id="best-practices">Best Practices</h2>

<ol>
  <li><strong>Always start with <code class="language-plaintext highlighter-rouge">clear all</code></strong> to ensure clean environment</li>
  <li><strong>Use log files</strong> to document all transformations</li>
  <li><strong>Comment extensively</strong> - explain WHY, not just WHAT</li>
  <li><strong>Use <code class="language-plaintext highlighter-rouge">assert</code> statements</strong> to catch data errors early</li>
  <li><strong>Create a data dictionary</strong> alongside your cleaned data</li>
  <li><strong>Version your do-files</strong> and datasets</li>
</ol>

<h2 id="common-pitfalls">Common Pitfalls</h2>

<ul>
  <li>‚ùå Not checking for duplicates before merging</li>
  <li>‚ùå Forgetting to handle missing value codes (-99, -88, etc.)</li>
  <li>‚ùå Not labeling variables and values</li>
  <li>‚ùå Overwriting raw data files</li>
  <li>‚ùå Not documenting data transformations</li>
</ul>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://www.stata.com/manuals/d.pdf">Stata Data Management Manual</a></li>
  <li><a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">Gentzkow &amp; Shapiro (2014) Code and Data for the Social Sciences</a></li>
  <li><a href="https://worldbank.github.io/dime-data-handbook/">DIME Analytics Data Handbook</a></li>
</ul>

<h2 id="changelog">Changelog</h2>

<h3 id="v100">v1.0.0</h3>
<ul>
  <li>Initial release with comprehensive cleaning template</li>
</ul>

                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">üìä</span>
                    <span>Awesome Econ AI Stuff</span>
                </div>
                <div class="footer-links">
                    <a href="https://github.com/meleantonio/awesome-econ-ai-stuff">GitHub</a>
                    <a href="/awesome-econ-ai-stuff/CONTRIBUTING.md">Contribute</a>
                    <a href="/awesome-econ-ai-stuff/LICENSE">License (CC0)</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Made with ‚ù§Ô∏è for the economics research community</p>
            </div>
        </div>
    </footer>

    <!-- JSZip library for zip file creation (needed for download functionality) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
        // Make baseurl available to JavaScript
        window.siteBaseurl = '/awesome-econ-ai-stuff';
    </script>
    <script src="/awesome-econ-ai-stuff/assets/js/main.js"></script>
    <script src="/awesome-econ-ai-stuff/assets/js/download.js"></script>
    <script>
        // #region agent log
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:96',message:'skill_layout_rendered',data:{pageTitle:'Index',pageUrl:'/skills/data/stata-data-cleaning/index/',baseUrl:'/awesome-econ-ai-stuff',href:window.location.href},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'A'})}).catch(()=>{});
        // #endregion agent log
        // #region agent log
        const skillCssLink = document.querySelector('link[rel="stylesheet"]');
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:99',message:'skill_stylesheet_link',data:{cssHref:skillCssLink ? skillCssLink.href : null,baseUrl:'/awesome-econ-ai-stuff'},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'C'})}).catch(()=>{});
        // #endregion agent log
        // #region agent log
        const skillContent = document.querySelector('.skill-content');
        const computedBg = window.getComputedStyle(document.body).backgroundColor;
        fetch('http://127.0.0.1:7243/ingest/1473a369-009a-410d-aaaa-02f9f1b78628',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'_layouts/skill.html:103',message:'skill_dom_and_style',data:{hasSkillContent:!!skillContent,bodyBg:computedBg},timestamp:Date.now(),sessionId:'debug-session',runId:'skill-render',hypothesisId:'B'})}).catch(()=>{});
        // #endregion agent log
    </script>
</body>
</html>
